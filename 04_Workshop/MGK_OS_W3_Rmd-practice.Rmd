---
title: "MGK OS WS 3 - Rmd practice"
author: "Alexander Strobel and Christoph Scheffel"
date: 'July, 2022'
output: pdf_document
editor_options: 
  markdown: 
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Rmarkdown practice

In the following part, you will work on four short tasks to gain a first insight into formatting text with R Markdown.
Your first task is to format the text in this document so that all statistical coefficients are displayed correctly.
That means, that (according to APA standard) statistical parameters are displayed in italics, are presented without leading zeroes if the respective coefficents cannot be greater than one, are given with two decimal digits except for $p$-values that are given with three decimal digits.
As a help, please note that LaTeX enables one to provide greek symbols like this:
The significance level was set to $\alpha=.05$.
If you take a look in the .Rmd file, you can see three R chunks.
In the first chunk called "variables", three random variables were generated.
Each variable has 100 observations.
The variables were created in a way that the variables y and z to some extent covary with the variable x, but not with each other.
Change the echo option of the R chunk "variables" so that it is visible in the output file.


```{r variables, echo = FALSE}
# The three random variables are generated as standardized variables via the scale() function, 
# because below, you will need to provide (standardized) beta-weights of a regression analysis
set.seed(123)                    # set custom seed for reproducible results
x = scale(rnorm(100))            # generate standardized random variable x with 100 obs.
y = scale(0.2 * x + rnorm(100))  # generate second standardized random variable y with 100 obs. that covaries with x
z = scale(0.3 * x + rnorm(100))  # generate third standardized random variable z with 100 obs. that also covaries with x
```

Now calculate the correlations between x and y and x and z in the following chunk using the cor.test() function.
Report the results below the chunk as (italic) r = .xx, 95% CI [.xx, .xx], (italic) p = .xxx by referring to the respective slots of the R object generated by cor.test().
To do so properly, you will need to get rid of the leading zero of both the correlation coefficient and the p-value.
We wrote a helper function apa.coef() for this purpose.


```{r correlation, echo = FALSE}
# helper function for reporting
apa.coef <- function(coef, digits = 2) {
  out = sub('0.', '.', format(round(coef), digits = digits), nsmall = digits)) 
}
# compute correlation between x and y 

# compute correlation between x and z

```

Now, we want to calculate a simple linear regression model using the lm() function.
The formula describing the model is x \~ y + z.
Use the chunk "regression" to run the linear regression.
Report the results in the text body of the document including beta-weights, t- and p-values, and multiple R-squared.

```{r regression, echo=FALSE}
# compute regression model

```

Finally, save the PDF output generated previously under a new name.
Then change the factors by which y and z are multiplied by x in the chunk "variables".
Knit the document and compare the results in the new output file with the previous ones.
